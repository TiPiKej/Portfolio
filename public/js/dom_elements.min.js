let dom={nav:()=>{const e=document.getElementById("infobar"),t=document.querySelectorAll("nav li a");let o=null;document.addEventListener("scroll",(t=>{o&&clearTimeout(o),o=setTimeout((()=>{let t=document.querySelectorAll("nav a");for(let o=t.length;o>0;o--)if(window.top.scrollY-document.querySelector(t[o-1].hash).offsetParent.offsetTop>=-window.top.innerHeight/4){history.pushState(null,null,t[o-1].hash),Array.from(t).forEach(((t,o,n)=>{t.href.indexOf(window.location.hash)>=0&&(e.style.left=25*o+"%",n.forEach((e=>e.className="")),t.className="active")}));break}}),100)})),Array.from(t).forEach(((o,n,a)=>{window.location.hash.length<=0?(t[0].className="active",e.style.left="0%"):o.href.indexOf(window.location.hash)>=0&&(e.style.left=25*n+"%",a.forEach((e=>e.className="")),o.className="active"),o.addEventListener("click",(t=>{e.style.left=25*n+"%",a.forEach((e=>e.className="")),o.className="active",dom.afterLoading(o.hash),dom.and(t,o,n)}))}));let n=document.getElementsByClassName("hamburger")[0],a=document.querySelector("#nav ul"),l=null;n.addEventListener("click",(e=>{if(dom.and(e),-1==n.className.indexOf("active")){n.className="hamburger active",a.style.display="block";a.clientHeight;clearTimeout(l),Array.from(a.children).forEach(((e,t)=>{e.style.position="absolute",e.style.top=`calc(${3*t}em - ${t+1}px)`,e.style.width="100%",e.style.height=0,e.style.opacity=0,l=setTimeout((()=>{e.style.height="3em",e.style.opacity=1}),100*(t+1)),e.onclick=()=>{a.removeAttribute("style"),Array.from(a.children).forEach((e=>e.removeAttribute("style"))),n.className="hamburger"}})),a.parentNode.style.overflow="unset",setTimeout((()=>{a.style.height="0"}),100),window.addEventListener("resize",r)}else n.className="hamburger",a.style.height=0,setTimeout((()=>a.removeAttribute("style")),200),setTimeout((()=>{Array.from(a.children).forEach((e=>e.removeAttribute("style")))}),200),a.parentNode.style.overflow="hidden",window.removeEventListener("resize",r)}));let r=e=>{window.top.innerWidth>600&&(a.removeAttribute("style"),Array.from(a.children).forEach((e=>e.removeAttribute("style"))),n.className="hamburger",a.parentNode.style.overflow="hidden")}},pages:()=>{const e=document.getElementById("aplications_content");fetch("json/pages.json").then((e=>e.json())).then((t=>{Object.keys(t).map((o=>{Array.from(t[o]).map((t=>{const n=document.createElement("a");n.className="page_wrapper",n.href=t.href,n.target="_blank";const a=document.createElement("p");a.className="page_title",a.innerHTML=t.title;const l=document.createElement("div");l.className="page_thumbnail";const r=document.createElement("div");r.className="img",r.dataset.src=t.dataSrc,r.style.backgroundImage=`url('${t.src}')`,r.style.backgroundRepeat="no-repeat",r.style.backgroundPositionX="center",r.style.backgroundPositionY="center",r.style.backgroundSize="cover",l.appendChild(r),n.appendChild(l),n.appendChild(a),"apps"===o&&e.appendChild(n)}))}))})).then((()=>{funkcje.changeImages()}))},and:(e,t="nope",o)=>{let n,a;e.preventDefault(),"nope"==t?(n=null==e.layerX?e.offsetX:e.layerX,a=null==e.layerY?e.offsetY:e.layerY):(n=null==e.layerX?e.layerX:e.offsetX,a=null==e.layerY?e.layerY:e.offsetY);const l=document.createElement("div");l.className="effect",l.style.top=a+"px",l.style.left="nope"===t?n+"px":n+o*t.clientWidth+"px","div"==e.target.tagName.toLowerCase()?e.target.appendChild(l):e.target.parentNode.appendChild(l),setTimeout((function(){"div"==e.target.tagName.toLowerCase()?e.target.removeChild(l):e.target.parentNode.removeChild(l)}),1100)},jezyki:()=>{const e=document.getElementById("o-mnie").parentNode;document.querySelectorAll(".jezyk");let t=null;fetch("json/jezyki.json").then((e=>e.json())).then((o=>{Object.keys(o).forEach(((n,a)=>{const l=document.createElement("h1");l.className="title",l.innerText=n,e.appendChild(l);const r=document.createElement("div");r.className="jezyki",Object.keys(o[n]).forEach((a=>{if(o[n][a].active){const l="jezyk_info",s=document.createElement("div");s.className="jezyk",s.innerText=o[n][a].name.toUpperCase(),r.appendChild(s),s.onmousemove=r=>{r.stopPropagation(),t&&clearTimeout(t);let s=(e,t)=>{let l=o[n][a].description,r="unset",s="unset",i=`${t.clientY}px`;if(l=l.replace("<a",'<a target="_blank" title="Link otworzy siÄ™ w nowej karcie!"'),void 0!==o[n][a].source){const e=o[n][a].source;l+='<br><br><hr><p style="margin-top: 10px; font-size: 20px;">Source:</p>',l+="<ul>",Array.from(e).forEach((e=>{l+=`<li><a style="font-size: .6em;" href="${e}">${e}</a></li>`})),l+="</ul>"}return window.top.innerWidth-t.clientX<.3*window.top.innerWidth?s=window.top.innerWidth-t.clientX-15+"px":r=`${t.clientX}px`,e.innerHTML=l,e.style.left=r,e.style.right=s,e.style.top=i};t=setTimeout((()=>{if(document.querySelectorAll(`.${l}`).length>0)s(document.querySelectorAll(`.${l}`)[0],r);else{const t=document.createElement("div");t.className=l,t.style.position="fixed",s(t,r),e.appendChild(t),t.addEventListener("mousemove",(e=>e.stopPropagation()))}}),500);let i=e=>{e.length>0&&(e[0].style.opacity=0,setTimeout((()=>{e.length>0&&e[0].remove()}),200))};window.addEventListener("scroll",(()=>i(document.querySelectorAll(".jezyk_info")))),window.addEventListener("mousemove",(()=>i(document.querySelectorAll(".jezyk_info"))))},s.onmouseout=()=>clearTimeout(t)}})),e.appendChild(r)})),dom.afterLoading()}))},afterLoading:(e=window.location.hash)=>{""==e&&(e="#header"),window.scrollBy({top:document.querySelector(e).offsetParent.offsetTop-window.top.scrollY,left:0,behavior:"smooth"})}};
